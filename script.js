const translations = {
  en: {
    "site.title": "Svetlana — Esthetician",
    "nav.home": "Home",
    "nav.services": "Services",
    "nav.contact": "Contact",
    "footer.rights": "All rights reserved.",
    "hero.title": "Glowing skin, science-backed care",
    "hero.subtitle": "Facials, waxing & sugaring in a calm, welcoming studio.",
    "hero.cta": "See services",
    "highlights.experience": "years of esthetics experience",
    "highlights.medschool.title": "Medical",
    "highlights.medschool.text": "international studies background",
    "highlights.approach": "Unique mix of science and care for your skin",
    "about.title": "Hi, I’m Svetlana",
    "about.text": "I combine advanced techniques with a gentle approach to help you feel confident in your skin.",
    "about.point1": "Customized facials for every skin type",
    "about.point2": "Waxing & sugaring for smooth results",
    "about.point3": "Safe, hygienic, and results-focused",
    "about.cta": "Book or ask a question",
    "gallery.caption1": "Relaxing facials",
    "gallery.caption2": "Waxing & sugaring",
    "gallery.caption3": "Clean, safe products",
    "services.title": "Services & Pricing",
    "services.subtitle": "A few popular options below — reach out for a personalized plan.",
    "svc.facials.title": "Facials",
    "svc.facials.text": "Ultrasound, mechanical, and combined cleansing with optional peels.",
    "svc.facials.ultra": "Ultrasound cleansing",
    "svc.facials.mechanical": "Mechanical cleansing",
    "svc.facials.combined": "Combined cleansing",
    "svc.facials.peeling": "Any cleansing + peel",
    "svc.wax.title": "Waxing / Sugaring",
    "svc.wax.bikini": "Bikini full / classic",
    "svc.wax.legs": "Full legs / half legs",
    "svc.wax.arms": "Full arms / half arms",
    "svc.wax.face": "Upper lip + chin / full face",
    "svc.peels.title": "Peels & Treatments",
    "svc.peels.surface": "Surface peels (Azelaiс, Mandelic, Salicylic, Currant)",
    "svc.peels.prx": "PRX-T33 (no-downtime bio-revitalizing)",
    "svc.peels.microneedling": "Microneedling / anti-age / whitening",
    "svc.peels.special": "Sensitive skin & anti-acne procedures",
    "services.ctaTitle": "Not sure what to choose?",
    "services.ctaText": "Message me with your skin goals — I’ll recommend the best treatment.",
    "services.ctaBtn": "Get in touch",
    "contact.title": "Book & Contact",
    "contact.subtitle": "Send a message on Instagram or by email — I’ll reply quickly.",
    "contact.email": "Email",
    "contact.hours": "Hours",
    "contact.hoursText": "By appointment. Weekends available.",
    "contact.mapNote": "Exact address provided after booking.",
    "form.title": "Quick message",
    "form.name.label": "Name",
    "form.name.placeholder": "Your name",
    "form.message.label": "Message",
    "form.message.placeholder": "Tell me about your skin goals…",
    "form.submit": "Send"
  },
  fr: {
    "site.title": "Svetlana — Esthéticienne",
    "nav.home": "Accueil",
    "nav.services": "Prestations",
    "nav.contact": "Contact",
    "footer.rights": "Tous droits réservés.",
    "hero.title": "Peau lumineuse, soins fondés sur la science",
    "hero.subtitle": "Soins du visage, cire & sugaring dans un studio apaisant.",
    "hero.cta": "Voir les prestations",
    "highlights.experience": "ans d’expérience en esthétisme",
    "highlights.medschool.title": "Médical",
    "highlights.medschool.text": "parcours d’études internationales",
    "highlights.approach": "Un mélange unique de science et de douceur",
    "about.title": "Bonjour, je suis Svetlana",
    "about.text": "J’allie techniques avancées et douceur pour révéler votre peau.",
    "about.point1": "Soins du visage personnalisés",
    "about.point2": "Épilation à la cire & au sucre",
    "about.point3": "Sûr, hygiénique et orienté résultats",
    "about.cta": "Réserver ou poser une question",
    "gallery.caption1": "Soins relaxants",
    "gallery.caption2": "Cire & sugaring",
    "gallery.caption3": "Produits sûrs et propres",
    "services.title": "Prestations & Tarifs",
    "services.subtitle": "Quelques options populaires — contactez-moi pour un plan personnalisé.",
    "svc.facials.title": "Soins du visage",
    "svc.facials.text": "Nettoyage par ultrasons, mécanique ou combiné, avec peelings.",
    "svc.facials.ultra": "Nettoyage par ultrasons",
    "svc.facials.mechanical": "Nettoyage mécanique",
    "svc.facials.combined": "Nettoyage combiné",
    "svc.facials.peeling": "Nettoyage + peeling",
    "svc.wax.title": "Épilation / Sugaring",
    "svc.wax.bikini": "Bikini intégral / classique",
    "svc.wax.legs": "Jambes complètes / demi-jambes",
    "svc.wax.arms": "Bras complets / demi-bras",
    "svc.wax.face": "Lèvre + menton / visage complet",
    "svc.peels.title": "Peelings & Soins",
    "svc.peels.surface": "Peelings superficiels (Azelaique, Mandélique, Salicylique, Groseille)",
    "svc.peels.prx": "PRX‑T33 (bio‑revitalisant sans arrêt)",
    "svc.peels.microneedling": "Microneedling / anti‑âge / éclaircissant",
    "svc.peels.special": "Peaux sensibles & anti‑acné",
    "services.ctaTitle": "Vous hésitez ?",
    "services.ctaText": "Écrivez-moi vos objectifs peau — je vous conseillerai.",
    "services.ctaBtn": "Me contacter",
    "contact.title": "Réserver & Contact",
    "contact.subtitle": "Écrivez sur Instagram ou par e‑mail — réponse rapide.",
    "contact.email": "E‑mail",
    "contact.hours": "Horaires",
    "contact.hoursText": "Sur rendez‑vous. Week‑end possible.",
    "contact.mapNote": "Adresse exacte communiquée après réservation.",
    "form.title": "Message rapide",
    "form.name.label": "Nom",
    "form.name.placeholder": "Votre nom",
    "form.message.label": "Message",
    "form.message.placeholder": "Parlez‑moi de vos objectifs peau…",
    "form.submit": "Envoyer"
  },
  ru: {
    "site.title": "Светлана — Эстетист",
    "nav.home": "Главная",
    "nav.services": "Услуги",
    "nav.contact": "Контакты",
    "footer.rights": "Все права защищены.",
    "hero.title": "Здоровая сияющая кожа с научным подходом",
    "hero.subtitle": "Чистки лица, воск и шугаринг в уютном кабинете.",
    "hero.cta": "Посмотреть услуги",
    "highlights.experience": "лет опыта в эстетике",
    "highlights.medschool.title": "Мед.",
    "highlights.medschool.text": "международное образование",
    "highlights.approach": "Уникальное сочетание науки и заботы",
    "about.title": "Привет, я Светлана",
    "about.text": "Совмещаю современные методики и бережный подход, чтобы вы чувствовали уверенность в своей коже.",
    "about.point1": "Индивидуальные уходы для любого типа кожи",
    "about.point2": "Воск и шугаринг с гладким результатом",
    "about.point3": "Безопасно, гигиенично и с акцентом на результат",
    "about.cta": "Записаться или задать вопрос",
    "gallery.caption1": "Расслабляющие уходы",
    "gallery.caption2": "Воск и шугаринг",
    "gallery.caption3": "Чистые и безопасные средства",
    "services.title": "Услуги и цены",
    "services.subtitle": "Популярные варианты ниже — напишите для персональной схемы.",
    "svc.facials.title": "Уходы для лица",
    "svc.facials.text": "УЗ‑, механическая и комбинированная чистка, пилинги.",
    "svc.facials.ultra": "Ультразвуковая чистка",
    "svc.facials.mechanical": "Механическая чистка",
    "svc.facials.combined": "Комбинированная чистка",
    "svc.facials.peeling": "Любая чистка + пилинг",
    "svc.wax.title": "Воск / Шугаринг",
    "svc.wax.bikini": "Бикини полное / классическое",
    "svc.wax.legs": "Ноги полностью / половина",
    "svc.wax.arms": "Руки полностью / половина",
    "svc.wax.face": "Верхняя губа + подбородок / всё лицо",
    "svc.peels.title": "Пилинги и процедуры",
    "svc.peels.surface": "Поверхностные пилинги (азелаиновый, миндальный, салициловый, смородиновый)",
    "svc.peels.prx": "PRX‑T33 (биоревитализация без реабилитации)",
    "svc.peels.microneedling": "Микронидлинг / анти‑эйдж / осветляющий",
    "svc.peels.special": "Для чувствительной кожи и анти‑акне",
    "services.ctaTitle": "Не знаете, что выбрать?",
    "services.ctaText": "Напишите ваши цели — подскажу оптимальный уход.",
    "services.ctaBtn": "Связаться",
    "contact.title": "Запись и контакты",
    "contact.subtitle": "Пишите в Instagram или на e‑mail — отвечу быстро.",
    "contact.email": "E‑mail",
    "contact.hours": "Часы работы",
    "contact.hoursText": "По записи. Возможны выходные.",
    "contact.mapNote": "Точный адрес после записи.",
    "form.title": "Короткое сообщение",
    "form.name.label": "Имя",
    "form.name.placeholder": "Ваше имя",
    "form.message.label": "Сообщение",
    "form.message.placeholder": "Расскажите о ваших целях по уходу…",
    "form.submit": "Отправить"
  }
};

function i18nApply(lang) {
  const dict = translations[lang] || translations.en;
  document.documentElement.lang = lang;
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) el.textContent = dict[key];
  });
  // placeholders
  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (dict[key]) el.setAttribute("placeholder", dict[key]);
  });
  document.title = dict["site.title"];
  localStorage.setItem("lang", lang);
  document.querySelectorAll(".lang").forEach(b=>b.classList.toggle("active", b.dataset.lang===lang));
}

function initLang() {
  const saved = localStorage.getItem("lang");
  const browser = (navigator.language || "en").slice(0,2);
  const initial = saved || (["en","fr","ru"].includes(browser) ? browser : "en");
  i18nApply(initial);
}

function handleSubmit(e){
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form).entries());
  // This is a static site; emulate success:
  const el = document.getElementById("form-status");
  el.textContent = (translations[localStorage.getItem("lang")||"en"]["form.submit"] === "Envoyer")
    ? "Merci ! Votre message a été enregistré (démo)."
    : (document.documentElement.lang === "ru" ? "Спасибо! Сообщение сохранено (демо)." : "Thanks! Your message was recorded (demo).");
  form.reset();
  return false;
}

document.addEventListener("DOMContentLoaded", () => {
  initLang();
  document.querySelectorAll(".lang").forEach(btn => {
    btn.addEventListener("click", () => i18nApply(btn.dataset.lang));
  });
  // Mark current page in nav:
  const here = location.pathname.split("/").pop() || "index.html";
  document.querySelectorAll(".nav a").forEach(a => {
    const target = a.getAttribute("href");
    if (target === here) a.setAttribute("aria-current", "page");
  });
});
